---
title: "Do Republicans or Democrats Experience More Difficulty Voting?"
author: "Annie Cui, Deanna Emery, Deepak Krishnamurthy, Richard Robbins"
date: "February 27, 2022"
output:
  pdf_document:
    toc: true
    number_sections: true
    toc_depth: 3
  html_document:
    toc: yes
    toc_depth: '3'
    df_print: paged
subtitle: A Statistical Analysis of Voting in the 2020 General Election
---
\newpage
\setcounter{page}{1}

```{r load packages and set options, include=FALSE}
library(tidyverse) 
library(magrittr)
library(knitr)
library(patchwork)

theme_set(theme_bw())

options(tinytex.verbose = TRUE)
knitr::opts_chunk$set(echo=FALSE, message=FALSE, fig.width = 10, fig.height = 3)

knit_hooks$set(inline = function(x) {prettyNum(x, big.mark=",")})
```
# Importance and Context

Voting has been called "the beating heart of democracy".  Fights over voting rights and ballot access have been waged throughout American history.  The Pew Research Center focused on increasingly contentious conflicts over election rules and procedures in a 2021 study, finding that “[a]mong U.S. adults overall, sizable majorities favor several policies aimed at making it easier for citizens to register and vote, as well as a requirement that voters be required to show government-issued photo identification before voting. . . [but] that there are substantial – and, in some cases, growing – partisan divisions over many of these policies.”\footnote{Pew Research Center. "The partisan divide on political values grows even wider." (2021)}

Debate concerning any particular change is often motivated by anticipated political winners and losers.  But, any discussion about the impact of a change should be rooted in a well-informed understanding of the *status quo*.  So, with a view to the most recent general election, and against a backdrop of partisan divide, we ask:

\begin{quote}
\textit {Did Democrat or Republican voters experience more difficulty voting in the 2020 election?}
\end{quote}

The answer can be a valuable component for any analysis of American voting behavior. It can also provide important context for people interested in stimulating voter participation.  As Thomas Jefferson said, *"We in America do not have government by the majority. We have government by the majority who participate."*

# Data and Methodology

```{r load data cleaning statistics}

# The data set for this report and several relevant statistics derived from the
# ANES source data are contained in the two files loaded below.  These files
# are created by the team_1_anes_data_prep.R script that accompanies the source
# files for our project.

load("team_1_anes_data_cleaning_statistics.Rdata")
df <- readRDS("team_1_anes_data.rds") %>% drop_na(party)
```

We use data from the American National Election Studies (ANES) 2020 Time Series Study. (References in this analysis to the "study" are references to that study).  The study is the most recent of a series that support analysis of public opinion and voting behavior.  It was conducted immediately before and after the 2020 U.S. presidential election and included `r study.count` people.  Respondents include some ANES 2016 study participants and a group invited after being identified through a random draw of all U.S. residential mailing addresses.  It is designed to make it possible to generalize from the participant population to the U.S. population.

To address our question we operationalize the concepts of **party identification, being a voter, and experiencing difficulty voting**.

Respondents were asked if they think of themselves as Republicans, Democrats, independents or something else.  Each self-identified Republican or Democrat was asked if their connection was "strong" or "not very strong".  The remaining respondents were asked if they are closer to the Republican party, the Democratic party or neither.  Of the `r study.count` respondents, `r sum(study.party_identity_table[3:4])` identified as strong or weak Democrats and `r study.party_identity_table[5]` identified as being independent but closer to the Democrats, *i.e.*, Democrat-leaning independents.  Respondents included `r sum(study.party_identity_table[8:9])` strong or weak Republicans and `r study.party_identity_table[7]` Republican-leaning independents.  Numerous studies suggest that people who assert independence but acknowledge *leaning* to a political party are partisan.\footnote{Petrocik, J.R., "Measuring party support: Leaners are not independents." Electoral Studies 28 (2009), 562-572}  Accordingly, we cluster leaning independents with the party to which they lean, for a total of `r sum(study.party_identity_table[3:5])` Democrats and `r sum(study.party_identity_table[7:9])` Republicans.  The balance consists of `r study.party_identity_table[6]` independents and `r sum(study.party_identity_table[1:2])` others.

We operationalize the concept of being a voter by including respondents who confirmed they voted and those who did not but who asserted a reason for not-voting from which we infer an intent to vote.  We label this group as presumed voters.  Since we are studying voting difficulty, we cannot ignore people for whom the difficulty they faced was so severe they were unable to vote.  It is difficult to infer intent from the data we have.  We realize that others might reasonably disagree with our approach, which we describe below.  

Respondents included `r study.voting_table["1"]` who voted, `r study.voting_table["0"]` who did not, and `r study.voting_table["-2"]` for whom data is not available.  Of the `r study.voting_table["0"]` respondents who did not vote, `r sum(study.non_vote_reason_table[7:22])` expressed a primary reason.  We do not infer an attempt to vote when the reason given was, "I forgot" (`r study.non_vote_reason_table["1"]` times), 
"not interested" (`r study.non_vote_reason_table["2"]`), 
"too busy" (`r study.non_vote_reason_table["3"]`), 
"did not like the candidates" (`r study.non_vote_reason_table["4"]`), 
"did not know where to vote" (`r study.non_vote_reason_table["14"]`),
"did not know enough about the candidates" (`r study.non_vote_reason_table["15"]`), or
some other unspecified reason (`r study.non_vote_reason_table["16"]`). 
We infer an attempt to vote when the reason given was 
"lack of correct identification" (`r study.non_vote_reason_table["6"]`), 
"out of town" (`r study.non_vote_reason_table["7"]`),
"sick or disabled" (`r study.non_vote_reason_table["8"]`), 
"transportation" (`r study.non_vote_reason_table["9"]`), 
"bad weather" (`r study.non_vote_reason_table["10"]`), 
"poll line too long" (`r study.non_vote_reason_table["11"]`), 
"not allowed to vote at the polls even though I tried" (`r study.non_vote_reason_table["12"]`), 
and "absentee ballot was requested but not received" (`r study.non_vote_reason_table["13"]`).  Of the `r study.non_vote_reason_table["5"]` who indicated they failed to vote because they were not registered, we included among the presumed voters `r study.non_vote_inferred_failed_registration_count` who had previously expressed an intent to register to vote.  In sum, we identified a total of `r sum(study.non_vote_reason_table[12:19]) + study.non_vote_inferred_failed_registration_count` presumed voters, which when combined with `r study.voting_table["1"]` respondents who voted, results in a total of `r sum(study.non_vote_reason_table[12:19]) + study.non_vote_inferred_failed_registration_count + study.voting_table["1"]` voters before excluding those who are not Republicans or Democrats.

We operationalize the concept of experiencing voting difficulty by relying on respondent self assessment and for one group, inference, as described in this paragraph.  Respondents who successfully voted were asked to assess how difficult the voting process was on a Likert scale of 1 to 5 as follows, 1: not, 2: little, 3: moderate, 4: very, and 5: extreme.  Because our cohort of presumed voters were thwarted in any attempt to vote, we infer voting difficulty at the extreme level for each of them.  

After removing respondents we did not consider to be Democrats or Republicans and eliminating those who did not vote or were not presumed voters, we were left with `r table(df$party)["Democrat"]` Democrats and `r table(df$party)["Republican"]` Republicans.

As the left panel in Figure 1 illustrates, even after inferring extreme difficulty for presumed voters, the overwhelming majority of voters did not appear to have difficulty voting.  That observation holds for both Democrats and Republicans.  The y axis of that chart shows the number of respondents in each of the categories.  When considering that chart it is important to remember that there are `r table(df$party)["Democrat"] - table(df$party)["Republican"]` more Democrat than Republican voters in this analysis.  

The right panel in Figure 1 shows only information about voters who had difficulty, this includes voters who reported having at least some difficulty voting as well as all of the presumed voters.  The y axis of that chart shows the percentage by study population by party, so, for example, slightly fewer than 3% of the Democrats in the study reported moderate voting difficulty compared to approximately 2% of the Republicans.  The spike for extreme difficulty stems from our inference that presumed voters experienced extreme difficulty.  Of the `r count (filter (df, voter.difficulty_level == "extreme"))` voters in that category, `r count (filter (df, voter.difficulty_level == "extreme" & presumed))` are presumed voters (where we inferred extreme difficulty) and `r count (filter (df, voter.difficulty_level == "extreme" & !presumed))` are respondents who voted and reported extreme difficulty.

```{r charts, fig.cap = 'Difficulty levels by party'}
bar_both <- df %>% drop_na(voter.difficulty_level) %>%
  ggplot() + 
  aes (x=voter.difficulty_level, fill=party) + 
  geom_bar(position="dodge") +
  coord_cartesian(ylim = c(0, 3200)) +
  scale_fill_manual(values = c("blue", "red")) +
  labs (title="Voting was not difficult for most voters",
        y="voters by party",
        x=element_blank()) +
  theme(legend.position="none")

percentages <- df %>%
  group_by(party, voter.difficulty_level) %>%
  summarise(count = n()) %>%
  mutate(freq = (count/sum(count)))

bar_percentage <- percentages %>% 
  ggplot() + 
  aes (x=voter.difficulty_level, y=freq, fill=party) + 
  geom_col(na.rm = TRUE, position="dodge", width = 0.6) +
  scale_fill_manual(values = c("blue", "red")) +
  scale_x_discrete(limits = c("little", "moderate", "very", "extreme")) +
  scale_y_continuous(labels = scales::percent) +
  coord_cartesian(ylim = c(0, .08)) +
  labs (title = "Focusing on those that had difficulty",
        y = "party percentage",
        x = element_blank())

bar_both | bar_percentage
```

Taking our research question into consideration, the Null hypothesis can be phrased as follows:


\textbf{Null Hypothesis:} \textit {The probability that voters of the Democratic party experienced more difficulty than voters of the Republican party is equal to the probability that voters of the Democratic party experienced less difficulty than voters of the Republican party.}

In order to comprehensively determine whether one party experienced *more* difficulty, we compare both the severity as well as the frequency of difficulty experienced. First, when testing whether one party experienced greater severity of difficulty than the other, we employ the Wilcoxon Rank Sum test. The Wilcoxon Rank Sum test is most suitable for this analysis since it does not require metric data, and makes no assumptions about the distribution of the data. The assumptions for the Wilcoxon Rank Sum test are:

\textbf{Ordinal Scale}:
As described in detail above, the data in the study is ordinal. The responses are in a 5-point Likert scale ranging from ‘No difficulty’ to ‘Extreme difficulty’. 

\textbf{I.I.D.}:
As noted earlier, the fresh cross-sectional sample was a random draw from the USPS computerized delivery sequence file where all U.S. residential addresses had an equal probability of selection. Of the households invited to participate, only one member of the house was randomly selected to respond to the questionnaire. 

To compare the frequencies of experiencing difficulty between the two groups, we use a  two-proportions z-test with the Yates’ continuity correction. This test assumes that the random variables are I.I.D. and that the sample size is large. From the discussion above, we find that the samples are likely I.I.D., and the sample size is sufficiently large, with `r table(df$party)["Democrat"]` Democrats and `r table(df$party)["Republican"]` Republicans. To build our binary indicator for difficulty, we set a value of FALSE for voters that indicated having experienced no difficulty, and set a value of TRUE for any voter or presumed voter that experienced difficulty levels from “little” to “extreme”.

# Results

The Wilcoxon Rank Sum test below compares the severity of difficulty voting experienced by Democrats and Republicans.

```{r, echo = TRUE}
wilcox_result <- wilcox.test(as.integer(voter.difficulty_level) ~ party, data = df)
```

The Wilcoxon Rank Sum test failed to reject the Null hypothesis  (p-value = `r round(wilcox_result$p.value, digits=4)`). This implies that from the context of severity, the level of voting difficulty experienced by Democrats is not significantly different from that of Republicans. From a frequency standpoint, of the `r nrow(df)` observations included in our analysis, only `r nrow(df%>% filter(!is.na(party) & voter.difficulty_level != "not"))` respondents had mentioned that they experienced any difficulties. Of these, `r nrow(df%>% filter(party == "Democrat" & voter.difficulty_level != "not"))` were Democrats and `r nrow(df%>% filter(party == "Republican" & voter.difficulty_level != "not"))` were Republicans. The proportions test below compares the frequencies of difficulty experienced by each party.

```{r, echo = TRUE}
# Filter data for the two groups: Democrats and Republicans
dem <- df %>% filter(party=="Democrat")
rep <- df %>% filter(party=="Republican")
# Get the number of democrats that experience difficulty and the total number of democrats 
x1 <- dem %>% filter(voter.difficulty_level >'not') %>% nrow()
n1 <- nrow(dem)
# Get the same numbers for republicans
x2 <- rep %>% filter(voter.difficulty_level >'not') %>% nrow()
n2 <- nrow(rep)
# Run a proportions test
prop_result <- prop.test(c(x1,x2),c(n1,n2))
```

Although the proportions test shows that Democrats experienced difficulty `r round(100*(prop_result$estimate[1] - prop_result$estimate[2]), digits=2)`% more often than Republicans, the p-value for the test is greater than 0.05 (p-value = `r round(prop_result$p.value,digits=4)`). This indicates that the observed difference in frequency is statistically insignificant.

# Discussion

Our analysis compared the difficulty encountered by voters of Democratic and Republican parties in two forms: severity and frequency of experience. In both cases, we failed to reject the null hypothesis that the probability of experiencing difficulty by voters of the Democratic party is the same as the probability of experiencing difficulty by voters of the Republican party. While our study found no significant difference in difficulty voting between the two parties, `r round(100* (x1 + x2)/(n1 + n2), digits=2)`% of the voters in our analysis experienced difficulty in some form. While our study supports the notion that there is no statistically significant difference in the degree to which Republicans and Democrats experience voting difficulty, we do believe it suggests that there is room for improvement in the voting process which could be a factor in increasing voter turnout. 